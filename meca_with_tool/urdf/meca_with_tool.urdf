<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from meca_with_tool.xacro           | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="meca_with_tool">
<link name="meca_box_link">
        <visual>
            <origin rpy="1.57079 0 0" xyz="-0.238 0.309 0" /> <!-- -0.4 0.3 0" -->
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/visual/box_open_light.dae" scale="0.001 0.001 0.001" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="1.57079 0 0" xyz="-0.238 0.309 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/collision/box_open_light.stl" scale="0.001 0.001 0.001" />
            </geometry>
        </collision>
        
<inertial>
            <mass value="0.1" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>

    </link>
     <joint name="meca_box_joint" type="fixed">
    <parent link="meca_box_link" />
    <child link="meca_base_link" /> <!-- TODO: check base_link name of robot -->
    <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0" />
  </joint>
    <!-- Base link is the center of the robot's bottom plate -->
    <link name="meca_base_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/visual/meca_500_r3_base.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/collision/meca_500_r3_base_collision.stl" />
            </geometry>
        </collision>
        
<inertial>
            <mass value="0.1" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>

    </link>
    <!-- Joint 1 -->
    <link name="meca_axis_1_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/visual/meca_500_r3_j1.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/collision/meca_500_r3_j1_collision.stl" />
            </geometry>
        </collision>
        
<inertial>
            <mass value="0.1" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>

    </link>
    <joint name="meca_axis_1_joint" type="revolute">
        <origin rpy="0 0 0" xyz="0.012498 0 0.091" />
        <parent link="meca_base_link" />
        <child link="meca_axis_1_link" />
        <axis xyz="0 0 1" />
        <limit effort="10.0" lower="-3.05433" upper="3.05433" velocity="2.61799" />
        <dynamics damping="1.0" />
    </joint>
    <!-- Joint 2 -->
    <link name="meca_axis_2_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/visual/meca_500_r3_j2.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/collision/meca_500_r3_j2_collision.stl" />
            </geometry>
        </collision>
        
<inertial>
            <mass value="0.1" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>

    </link>
    <joint name="meca_axis_2_joint" type="revolute">
        <origin rpy="0 0 0" xyz="0 0 0.044" />
        <parent link="meca_axis_1_link" />
        <child link="meca_axis_2_link" />
        <axis xyz="0 1 0" />
        <limit effort="10.0" lower="-1.22173048" upper="1.5708" velocity="2.61799" />
        <dynamics damping="1.0" />
    </joint>
    <!-- Joint 3 -->
    <link name="meca_axis_3_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/visual/meca_500_r3_j3.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/collision/meca_500_r3_j3_collision.stl" />
            </geometry>
        </collision>
        
<inertial>
            <mass value="0.05" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>

    </link>
    <joint name="meca_axis_3_joint" type="revolute">
        <origin rpy="0 0 0" xyz="0 0 0.135" />
        <parent link="meca_axis_2_link" />
        <child link="meca_axis_3_link" />
        <axis xyz="0 1 0" />
        <limit effort="10.0" lower="-2.35619" upper="1.22173048" velocity="3.14159" />
        <dynamics damping="1.0" />
    </joint>
    <!-- Joint 4 -->
    <link name="meca_axis_4_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/visual/meca_500_r3_j4.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/collision/meca_500_r3_j4_collision.stl" />
            </geometry>
        </collision>
        
<inertial>
            <mass value="0.05" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>

    </link>
    <joint name="meca_axis_4_joint" type="revolute">
        <origin rpy="0 0 0" xyz="0 0 0.038" />
        <parent link="meca_axis_3_link" />
        <child link="meca_axis_4_link" />
        <axis xyz="1 0 0" />
        <limit effort="10.0" lower="-2.96706" upper="2.96706" velocity="5.23599" />
        <dynamics damping="1.0" />
    </joint>
    <!-- Joint 5 -->
    <link name="meca_axis_5_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/visual/meca_500_r3_j5.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/collision/meca_500_r3_j5_collision.stl" />
            </geometry>
        </collision>
        
<inertial>
            <mass value="0.03" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>

    </link>
    <joint name="meca_axis_5_joint" type="revolute">
        <origin rpy="0 0 0" xyz="0.12 0 0" />
        <parent link="meca_axis_4_link" />
        <child link="meca_axis_5_link" />
        <axis xyz="0 1 0" />
        <limit effort="10.0" lower="-2.00713" upper="2.00713" velocity="5.23599" />
        <dynamics damping="1.0" />
    </joint>
    <!-- Joint 6 -->
    <link name="meca_axis_6_link">
        <visual>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/visual/meca_500_r3_j6.dae" />
            </geometry>
        </visual>
        <collision>
            <origin rpy="0 0 0" xyz="0 0 0" />
            <geometry>
                <mesh filename="package://meca_with_tool/meshes/collision/meca_500_r3_j6_collision.stl" />
            </geometry>
        </collision>
        
<inertial>
            <mass value="0.03" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>

    </link>
    <joint name="meca_axis_6_joint" type="revolute">
        <origin rpy="0 0 0" xyz="0.07 0 0" />
        <parent link="meca_axis_5_link" />
        <child link="meca_axis_6_link" />
        <axis xyz="1 0 0" />
        <limit effort="10.0" lower="-3.14159" upper="3.14159" velocity="8.72665" />
        <dynamics damping="1.0" />
    </joint>
    <!-- ur5 -->
    <!-- The ur5 xacro must be included with passing parameters -->
    <!-- Create a fixed joint with a parameterized name. -->
    <joint name="tool_joint" type="fixed">
        <!-- The parent link must be read from the robot model it is attached to. -->
        <parent link="meca_axis_6_link" />
        <child link="tool" />
        <!-- The tool is directly attached to the flange. -->
        <origin rpy="0 0 0" xyz="-0.04 -0.110 -0.071" />
        <axis xyz="0 0 0" />
        <limit effort="10.0" lower="-3.05433" upper="3.05433" velocity="2.61799" />
    </joint>
    <link name="tool">
        <visual>
            <geometry>
                <!-- The path to the visual meshes in the package. -->
                <mesh filename="package://meca_with_tool/meshes/visual/Tool_header_light.dae" scale="0.001 0.001 0.001" />
            </geometry>
        </visual>
        <collision>
            <geometry>
                <!-- The path to the collision meshes in the package. -->
                <mesh filename="package://meca_with_tool/meshes/collision/Tool_header_light.stl" scale="0.001 0.001 0.001" />
            </geometry>
        </collision>
        
<inertial>
            <mass value="0.01" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>

    </link>
    <!-- TCP frame -->
    <joint name="tcp_joint" type="prismatic">
        <origin rpy="3.14159 0 0" xyz="0.073 0.07 0.08" />
        <parent link="tool" />
        <child link="tcp" />
        <axis xyz=" 0 1 0" />
        <limit effort="10.0" lower="0.000" upper="0.080" velocity="0.60" />
    </joint>
    <link name="tcp">
        <visual>
            <geometry>
                <!-- The path to the visual meshes in the package. -->
                <mesh filename="package://meca_with_tool/meshes/visual/tcp.dae" scale="0.001 0.001 0.001" />
            </geometry>
        </visual>
        <collision>
            <geometry>
                <!-- The path to the collision meshes in the package. -->
                <mesh filename="package://meca_with_tool/meshes/collision/tcp.stl" scale="0.001 0.001 0.001" />
            </geometry>
        </collision>
        
<inertial>
            <mass value="0.01" />
            <inertia ixx="0.03" iyy="0.03" izz="0.03" ixy="0.0" ixz="0.0" iyz="0.0" />
        </inertial>

    </link>
    <!-- define the ur5's position and orientation in the world coordinate system -->
      <!-- define the ur5's position and orientation in the world coordinate system -->
  <link name="world" />
  <joint name="world_joint" type="fixed">
    <parent link="world" />
    <child link="meca_box_link" /> <!-- TODO: check base_link name of robot -->
    <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0" />
  </joint>
    
<transmission name="trans_meca_axis_1_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_1_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_1_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_2_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_2_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_2_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_3_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_3_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_3_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_4_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_4_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_4_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_5_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_5_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_5_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_6_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_6_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_6_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_tcp_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="tcp_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="tcp_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <gazebo>
        <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
            <robotNamespace>/</robotNamespace>
        </plugin>
    </gazebo>
    <transmission name="trans_meca_axis_1_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_1_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_1_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_2_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_2_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_2_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_3_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_3_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_3_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_4_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_4_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_4_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_5_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_5_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_5_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_6_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_6_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_6_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_tcp_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="tcp_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="tcp_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <gazebo>
        <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
            <robotNamespace>/</robotNamespace>
        </plugin>
    </gazebo>
    <transmission name="trans_meca_axis_1_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_1_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_1_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_2_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_2_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_2_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_3_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_3_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_3_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_4_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_4_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_4_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_5_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_5_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_5_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_meca_axis_6_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="meca_axis_6_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="meca_axis_6_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <transmission name="trans_tcp_joint">
        <type>transmission_interface/SimpleTransmission</type>
        <joint name="tcp_joint">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
        </joint>
        <actuator name="tcp_joint_motor">
            <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            <mechanicalReduction>1</mechanicalReduction>
        </actuator>
    </transmission>
    <gazebo>
        <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
            <robotNamespace>/</robotNamespace>
        </plugin>
    </gazebo>
     <gazebo reference="tool">
    <material>Gazebo/Yellow</material>
  </gazebo>
    <gazebo reference="meca_box_link">
    <material>Gazebo/Blue</material>
  </gazebo>  
</robot>
